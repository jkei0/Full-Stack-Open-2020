{"version":3,"sources":["services/notes.js","Components/app.js","index.js"],"names":["baseUrl","newNumber","axios","post","then","response","data","get","id","url","delete","person","put","Numbers","props","persons","map","name","number","onClick","deleteMe","FilterForm","onSubmit","filterNames","value","newFilter","onChange","handleFilterChange","PersonForm","addNumber","newName","handleNoteChange","handleNumberChange","type","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","setMessage","useEffect","noteService","addNotification","setTimeout","numbersToShow","length","filter","indexOf","event","preventDefault","target","some","concat","catch","error","find","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c9a913f3.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst postNumber = newNumber => {\r\n  const request = axios.post(baseUrl, newNumber)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response=>response.data)\r\n}\r\n\r\nconst deleteNumber = id => {\r\n  const url = `${baseUrl}/${id}`\r\n  const request = axios.delete(url)\r\n  return request.then(response=>response.data)\r\n}\r\n\r\nconst updateNumber = person => {\r\n  const url = `${baseUrl}/${person.id}`\r\n  const request = axios.put(url, person)\r\n  return request.then(response=>response.data)\r\n}\r\n\r\nexport default {\r\n  postNumber: postNumber,\r\n  getAll: getAll,\r\n  deleteNumber: deleteNumber,\r\n  updateNumber: updateNumber\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport noteService from '../services/notes'\r\nimport '../app.css'\r\n\r\nconst Numbers = (props) => (\r\n  props.persons.map((person)=>\r\n    <p key={person.name}>\r\n    {person.name} {person.number}\r\n    <button onClick={() => props.deleteMe(person.id, person.name)} > delete </button>\r\n    </p>\r\n  )\r\n)\r\n\r\nconst FilterForm = (props) => (\r\n  <form onSubmit={props.filterNames}>\r\n    <div>\r\n      filter shown with <input value={props.newFilter} onChange={props.handleFilterChange}/>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nconst PersonForm = (props) => (\r\n  <form onSubmit={props.addNumber}>\r\n    <div>\r\n      name: <input value={props.newName} onChange={props.handleNoteChange}/>\r\n    </div>\r\n    <div>\r\n      number <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nconst Notification = ({message}) => {\r\n    if(message === '') {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div className='message'>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [ message, setMessage ] = useState('')\r\n\r\n  useEffect(() => {\r\n    noteService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n      })\r\n  }, [])\r\n\r\n  const addNumber = (event) => {\r\n    event.preventDefault()\r\n    if(persons.some(person => person.name===newName) === false) {\r\n      const person =  {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      noteService\r\n        .postNumber(person)\r\n        .then(response => {\r\n          setPersons(persons.concat(person))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          addNotification(`${person.name} added`)\r\n        })\r\n        .catch(error => {\r\n          addNotification(error.response.data.error)\r\n        })\r\n    }\r\n    else {\r\n      const person = persons.find(person => person.name===newName)\r\n      person.number = newNumber\r\n      noteService\r\n        .updateNumber(person)\r\n        .then(response => {\r\n          setPersons(persons.map(person => person.id !== response.id ? person : response))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          addNotification(`${person.name} number changed`)\r\n        })\r\n        .catch(error => {\r\n          addNotification(`Information of ${person.name} has been already removed from the server`)\r\n        })\r\n    }\r\n  }\r\n\r\n  const addNotification = (message) => {\r\n    setMessage(message)\r\n    setTimeout(() => {\r\n      setMessage('')\r\n    }, 2000)\r\n  }\r\n\r\n  const filterNames = (event) => {\r\n    event.preventDefault()\r\n  }\r\n\r\n  const handleNoteChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  const deleteMe = (id, name) => {\r\n    if(window.confirm(`Delete ${name}?`))\r\n    noteService\r\n      .deleteNumber(id)\r\n      .then(response => {\r\n        setPersons(persons.filter(person => person.id !== id))\r\n        addNotification(`${name} deleted`)\r\n      })\r\n  }\r\n\r\n  const numbersToShow = newFilter.length>0\r\n    ? persons.filter(person => person.name.indexOf(newFilter) !== -1)\r\n    : persons\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={message} />\r\n      <h2>Phonebook</h2>\r\n      <FilterForm filterNames={filterNames} newFilter={newFilter} handleFilterChange={handleFilterChange}/>\r\n      <h2> add a new </h2>\r\n      <PersonForm addNumber={addNumber} newName={newName}\r\n      handleNoteChange={handleNoteChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\r\n      <h2>Numbers</h2>\r\n      <div>\r\n        <Numbers persons={numbersToShow} deleteMe={deleteMe} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/app'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}